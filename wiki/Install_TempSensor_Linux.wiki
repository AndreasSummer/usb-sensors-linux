#summary Install TempSensor on Linux

= Introduction =

Instructions how to install the 'tempsensor' utility on Linux.

NOTE! This software is still under development, it does not yet work properly.

= Tested on =

 * Debian 6 i386 (via VMWare)
 * Raspbian (Raspberry Pi)

= Details =

== Requirements ==

 * The libusb 1.0 is required for the USB communication.
 * The Lascar EL-USB-RT temperature/humidity dongle

== LibUSB 1.0 ==

Install LibUSB 1.0

{{{
$ sudo apt-get install libusb-1.0
}}}

----
= Compile tempsensor from sources =

== Install required software ==

The 'build-essential' package is needed to be able to compile the source code.

{{{
$ sudo apt-get install build-essential
}}}

== Download the source code and compile ==

This will download the latest version direct from trunk, this means that this is the version that is still under development and might not work as it should.

{{{
$ mkdir tempsensor
$ cd tempsensor
$ wget http://usb-sensors-linux.googlecode.com/svn/trunk/tempsensor/tempsensor.c
}}}

Compile the source code

{{{
$ gcc -o tempsensor tempsensor.c -lusb-1.0
}}}

== Test ==

You can now execute the tempsensor and see if you get readings, as seen on most Linux installations it seems that you must be root user, or then add udev rule to make the device read/write.

To run with root access

{{{
test@lascar64bit:~/tempsensor$ sudo ./tempsensor 
Temperature: 16.2C, Humidity: 22%
test@lascar64bit:~/tempsensor$
}}}

Without root access it will print following

{{{
test@lascar64bit:~/tempsensor$ ./tempsensor 
Error: Unable to find the device.
Error: Can not init USB device
test@lascar64bit:~/tempsensor$
}}}

== Make Udev rule ==

Insert a udev rule to get read/write access to the device from normal user.

Create and edit following file:

{{{
$ sudo nano /etc/udev/rules.d/99-usb.rules
}}}

Add following lines;

{{{
# Lascar 
SUBSYSTEM=="usb", ATTR{idVendor}=="1781", ATTR{idProduct}=="0ec4", MODE="0666"
}}}

Save and reboot, now the device should be writable and give you results.

Example

{{{
test@lascar64bit:~/tempsensor$ ./tempsensor 
Temperature: 24.5C, Humidity: 22%
test@lascar64bit:~/tempsensor$
}}}

Please see [ReadMe_TempSensor readme] for more usage instructions

----
= Download binary file =

Software not released yet

----
= Troubleshooting =

== Permission denied ==

If you get following issue when running tempsensor:

{{{
$ ./tempsensor 
libusb couldn't open USB device /dev/bus/usb/002/005: Permission denied.
}}}

It means that you have no access to the USB device, two solutions;

a) use sudo, eg "sudo ./tempsensor"

b) create the udev rule as above